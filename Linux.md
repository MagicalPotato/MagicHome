* 无论是什么操作系统,最终都是对硬件的一种控制.硬件的作用是通过电流来完成逻辑运算,而操作系统的作用是让用户来控制硬件以完成用户想要完成的逻辑运算.linux启动过程大致如下:
  - 内核引导 :当计算机打开电源后，首先是BIOS开机自检，按照BIOS中设置的启动设备（通常是硬盘）来启动。操作系统接管硬件以后，首先读入 /boot 目录下的内核文件。 
  - 运行init : init进程是系统所有进程的起点，没有这个进程，系统中任何进程都不会启动。init 程序首先是需要读取配置文件 /etc/inittab。不同的发行版这个文件名称和放的地方可能有所差别.
  - 运行级别 : 许多程序需要开机启动。它们在Windows叫做"服务"（service），在Linux就叫做"守护进程"（daemon）。init进程的一大任务，就是去运行这些开机启动的程序。但是，不同的场合需要启动不同的程序，这是根据这个进程的运行级别来确定的.
  - 系统初始化 : 在init的配置文件中有这么一行： si::sysinit:/etc/rc.d/rc.sysinit　它调用执行了/etc/rc.d/rc.sysinit，而rc.sysinit是一个bash shell的脚本，它主要是完成一些系统初始化的工作，rc.sysinit是每一个运行级别都要首先运行的重要脚本。
  - 建立终端 : rc执行完毕后，返回init。这时基本系统环境已经设置好了，各种守护进程也已经启动了。init接下来会打开6个终端，这些终端相当于是六个doc窗口,可以用来控制系统.如果你的系统安装了图形界面,那么默认登录的时候显示的是图形界面,按ctrl+alt+F1~F6可以切换这些终端,ctrl+alt+F7是切回图形界面.
* linux的文件目录是从一个斜杠开始的  /  就是整个目录树的起始点, /下面会有各种各样的目录,比如 /root/ , /bin/等等,名称后面加/代表这一个目录,不加的话可能是一个目录也可能是一个文件. /目录下的目录一般有如下这些:
```
/bin： bin是Binary的缩写, 这个目录存放着最经常使用的命令。
/boot：这里存放的是启动Linux时使用的一些核心文件，包括一些连接文件以及镜像文件。
/dev ：dev是Device(设备)的缩写, 该目录下存放的是Linux的外部设备，在Linux中访问设备的方式和访问文件的方式是相同的。
/etc：这个目录用来存放所有的系统管理所需要的配置文件和子目录。
/home：用户的主目录，在Linux中，每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的。
/lib：这个目录里存放着系统最基本的动态连接共享库，其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。
/lost+found：这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。
/media：linux系统会自动识别一些设备，例如U盘、光驱等等，当识别后，linux会把识别的设备挂载到这个目录下。
/mnt：系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将光驱挂载在/mnt/上，然后进入该目录就可以查看光驱里的内容了。
/opt：这是给主机额外安装软件所摆放的目录。比如你安装一个ORACLE数据库则就可以放到这个目录下。默认是空的。
/proc：这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。
这个目录的内容不在硬盘上而是在内存里,可以直接修改里面的某些文件，比如下面的命令可以屏蔽主机的ping命令，使别人无法ping你的机器：
echo 1 > /proc/sys/net/ipv4/icmp_echo_ignore_all
/root：该目录为系统管理员，也称作超级权限者的用户主目录。
/sbin：s就是Super User的意思，这里存放的是系统管理员使用的系统管理程序。
/selinux：这个目录是Redhat/CentOS所特有的目录，Selinux是一个安全机制，类似于windows的防火墙，但是这套机制比较复杂，这个目录就是存放selinux相关的文件的。
/srv：该目录存放一些服务启动之后需要提取的数据。
/sys：这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统 sysfs 。
sysfs文件系统集成了下面3种文件系统的信息：针对进程信息的proc文件系统、针对设备的devfs文件系统以及针对伪终端的devpts文件系统。该文件系统是内核设备树的一个直观反映。当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中被创建。
/tmp：这个目录是用来存放一些临时文件的。
/usr：这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似于windows下的program files目录。
/usr/bin：系统用户使用的应用程序。
/usr/sbin：超级用户使用的比较高级的管理程序和系统守护程序。/usr/src：内核源代码默认的放置目录。
/var：这个目录中存放着在不断扩充着的东西，我们习惯将那些经常被修改的目录放在这个目录下。包括各种日志文件。
另外:在Linux文件系统中有两个特殊的目录，一个用户所在的工作目录，也叫当前目录，可以使用一个点 . 来表示；另一个是当前目录的上一级目录，也叫父目录，可以使用两个点 .. 来表示。 . 代表当前的目录，也可以使用 ./ 来表示；..代表上一层目录，也可以 ../ 来代表。 如果一个目录或文件名以一个点 . 开始，表示这个目录或文件是一个隐藏目录或文件(如：.bashrc)。即以默认方式查找时，不显示该目录或文件。 ~ 号代表root目录下, 也就是/root/ 
```
* 一些常用的命令:
  - 假设我当前在/root/ 目录下,我创建了一个新的目录 mkdir xxx,如果使用绝对路径法切换到xxx目录的话是这样: cd /root/xxx/  ,如果使用相对路径就是这样:
cd ./xxx/   ,如果返回上一级就是 cd ..  ,返回root 目录是 cd ~
  - mkdir test 在你cd到的那个目录下创建test目录   mkdir -p test1/test2test3/ 递归创建所有目录  mkdir -m 777 test 创建目录并指定权限
  - rmdir test 删除空目录test,非空删不掉  rm test 删除非空目录test
  - 用 root 身份，将 root 目录下的 .bashrc 复制到 /tmp 下，并命名为 bashrc    cp ~/.bashrc /tmp/bashrc  
  带i参数会询问是否覆盖原有的 cp -i ~/.bashrc /tmp/bashrc  一般-i在很多场景下都是询问是否操作,-r一般都是递归操作
  - cp ~/.bashrc xxx 复制一文件并指定新的名字xxx,  mv xxx mvtest  把xxx移动到mvtest这个目录中去, mv a a2,a重命名实际上就是移动到一个新名字a2
  - cat /etc/issue 查看issue这个文件内容,从第一行开始显示  tac /etc/issue  也是查看不过从最后一行开始显示 , nl /etc/issue  也是查看,不过显示每行的行号, more /etc/xxx.txt  打开文档后可以使用enter翻行,空格翻页,q退出,其余自查,   less /etc/xxx.txt  less和more类似,不过用page up和page down
翻页,q退出,其他自查,  head -n 20 /etc/xxx.txt ,显示文档头几行, 不加-n 20 默认显示10行. tail显示后几行,用法相同
* **在Linux系统中,一切皆文件,啥都是文件,哪怕是一个链接也是一个文件,内核会为每一个新创建的文件分配一个唯一的Inode(索引结点).文件属性会被保存在索引结点里，在访问文件时，会先将索引结点复制到内存，从而实现文件的快速访问。硬链接是啥意思呢,硬链接就是为xxx.txt这个文件创建的多个指针,每个指针指向的都是xxx.txt这个文件本身,这个指针可以叫不同的名字,相当于xxx.txt这文件有a,b,c三个别名,也就是三个硬链接,这个三个硬链接都是别人在使用的,但是他们都最终指向的是xxx.txt这个文件,当有个用户删了a这个链接之后,xxx.txt并不会被真实的删除,只有当abc三个链接都被删除之后,xxx.txt才真正被删除. 而软链接并不是一个指向真实文件的指针,它是一个新文件,这个新文件里写了xxx.txt这个文件的地址,所以是个软链接,软链接就是不直接指向文件,而是自己保存了文件的地址,你需要根据软链接文件中保存的地址去访问xxx.txt这个文件,所以软链接有不同的节点号,而硬链接节点号都是一样的**
* useradd user  #新添加一个用户,任何版本都通用   useradd –d /usr/sam -m sam   创建了一个用户sam，其中-d和-m选项用来为登录名sam产生一个主目录/usr/sam（/usr为默认的用户主目录所在的父目录）。   useradd -s /bin/sh -g group –G adm,root gem  新建了一个用户gem，该用户的登录Shell是 /bin/sh，它属于group用户组，同时又属于adm和root用户组，其中group用户组是其主组,  userdel -r sam 删除sam这个用户,不加-r只删除用户,但是用户的主目录和一些配置信息还在,加了-r就表示全部删了,杀人抄家. 一般新建用户的时候都会给用户创建一个主目录,目录名字可以任意.  中文的习惯是将主要的信息放在前面,但英文习惯将我放在最后,所以所有的语句主语都在最后就像下面这个和其他更多的: usermod -s /bin/ksh -d /home/z –g developer sam  此命令将用户sam的登录Shell修改为ksh，主目录改为/home/z，用户组改为developer,这个用户原本的主目录在/user/sam下. 其实很多情况下,目录后面本来都要加斜杠/,但是linux会去检测你这个东西是个文件还是目录,所以有时候命令最后一个目录的/就被省略了   
* passwd  # 直接在控制台输入password就会出现修改框. 普通用户修改自己的口令时，passwd命令会先询问原口令，验证后再要求用户输入两遍新口令，如果两次输入的口令一致，则将这个口令指定给用户；而超级用户为用户指定口令时，就不需要知道原口令,直接passwd sam, 然后会输入新的密码. 如果是passwd -d sam,则是去除sam的密码,相当于删除了sam用户的密码. passwd -l sam ,锁定sam用户使其不能登录. 注意:linux系统在任何场景下设置密码光标都不会有任何反应,若输入错误，可以按Backspace 重新输入
* groupadd -g 101 group2  令向系统中增加了一个新组group2，同时指定新组的组标识号是101,  groupdel group1删除group1用户组 , groupmod –g 10000 -n group3 group2  更改组的标识号和组名称.  看到没,所有命令主语都在后面.和中文习惯相反,很不习惯啊.    newgrp root  用户可以在登录后，使用命令newgrp切换到其他用户组，这个命令的参数就是目的用户组,这样就可以拥有其他组的权限.
* **/etc/passwd文件是用户管理工作涉及的最重要的一个文件,这个文件对所有用户可读。每一行记录代表着一个用户，每行记录又被冒号(:)分隔为7个字段，其格式和具体含义如下：用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录Shell  
例如: (root:x:0:0:Superuser:/:)    (daemon:x:1:1:System daemons:/etc:)   (sam:x:200:50:Sam san:/usr/sam:/bin/sh)  从中可以看到root用户的主目录就是/,因为root是最高管理员,所以拥有根目录/,而root用户总不能把/当成自己的用户目录吧,那样很乱,所有/下面有个/root/,也就是root也有个自己的用户目录就叫/root/   注意点:1.口令字段存的是是用户口令的加密串，不是明文，但是由于/etc/passwd文件对所有用户都可读，所以这仍是一个安全隐患。因此，现在许多Linux 系统（如SVR4）都使用了shadow技术，把真正的加密后的用户口令字存放到/etc/shadow文件中，只有超级用户才拥有shadow文件读权限，这就保证了用户密码的安全性。而在/etc/passwd文件的口令字段中只存放一个特殊的字符如x  2.用户标识号:0是超级用户root的标识号，1～99由系统保留，作为管理账号，普通用户的标识号从100开始。在Linux系统中，这个界限是500。  3.主目录:它是用户在登录到系统之后所处的目录。在大多数系统中，各用户的主目录都被组织在同一个特定的目录下，而用户主目录的名称就是该用户的登录名。各用户对自己的主目录有读、写、执行（搜索）权限，其他用户对此目录的访问权限则根据具体情况设置。  4.用户登录后，要启动一个进程，负责将用户的操作传给内核，这个进程是用户登录到系统后运行的命令解释器或某个特定的程序，即Shell,有的用户记录的后面最后的:后面并没有指定shell,说明这个用户可能是个伪用户,伪用户大多是一些系统进程,用于系统操作. 默认的都是指定/bin/sh作为登录shell**
* linux的所有东西都是文件,磁盘也不例外,磁盘也是个文件.使用光杆df命令(disk file 的缩写)来查看所有磁盘信息,但是显示的磁盘容量单位是,千byte ,比如550000千byte,大概也就550兆,如果加了-h参数的话那么磁盘容量就会以人能看懂的方式显示. df -h /xxx 将xxx下面的磁盘以人能看懂的方式展示出来. 光杆du,显示当前目录下的所有文件容量.  linux的文件包含实际数据和属性两部分,属性一般是存在索引节点中,而数据是存在data block区块中,还有一个超级区块会记录整个文件系统的整体信息，包括 inode 与 block 的总量、使用量、剩余量等。stat 命令查看某个文件的 inode 信息. stat /etc/passwd
* xxx -help # 显示该命令简单的使用帮助; man xxx 或 man 配置文件 显示详细的帮助文档,q退出浏览 ; info xxx 或 info 配置文件 比man更详细.空格翻页
* su user #切换到某个用户,需要输入密码; su root或 su 后面啥都不写 ,则默认切换到root,也会要密码. 如果你当前在/haha目录下,那么切到root后也是root的/haha目录;如果输入 su -,则会切到root的/home目录下,也就是/root,root用户的home目录就是/root. 如果你当前在root用户下,那么你可以使用su someuser -
切换到任意用户的/home/someuser目录下,注意这个someuser就时你切的那个用户的用户名. 如果当前在某个用户,切到了另一个,办完事你又想回刚那个用户,就输入exit
* whoami # 查看当前是那个用户  who am i / who 两个功能是一样的但是和whoami是有差别的,whoami查看的登录系统的用户,而另外两个是查看有效用户,就是当前执行命令的用户.正在执行操作的有效用户是可以任意切换的,但是当前的登录用户从你登录那一刻就定了,除非你重新登录否则不会发生改变.
* linux的文件组织方式是以 / 开始的一棵树,所以 / 就是linux的根目录, /etc/这个路径可以这样来理解: 原本正规的目录格式应该是这样 xxx/etc/,这个xxx就是linux中最原始的那一层目录, 目录后面加一个/ 也就是xxx/来代表这个是一个目录,为了方便 xxx被省略了所以原始的根目录就只剩下 /了,而/etc/就表示根目录下有个etc目录,要表示etc是个目录必须在etc后面加个/,不然会把etc当成一个文件来对待,现在/etc/这个路径的意义就明显了. linux用颜色来区分文件夹还是文件,一般蓝色代表目录,其他颜色代表文件, 文件也有颜色之分,比如用红色代表可执行文件,用绿色代表txt文件等..可以在/etc/dir_colours文件中来修改
* ls #用于列出当前目录下的文件和文件夹. 有的版本没有启用颜色区分文件的功能,你可以用alias创建一个命令别名: $ alias ls='ls ==color=auto',这样以后再用ls的时候就会默认带颜色区分文件的功能了.为了让这个设置永久有效,可以将这行命令添加到/etc/bashrc文件 或者 /home/<user>/.bashrc文件当中,前者对所有用户都生效,后者只对你指定的那个用户有效,user就是你指定的那个用户. 当然用颜色区分文件还是比较初级,肯定有显示器出毛病的时候啊,专业的方法是用文件属性和权限.  
  ls-al 列出所有包括隐藏的文件和文件隐藏的属性. 隐藏文件的文件名前有个点 .xxx
* -rwxr-xrw- linux的文件权限系统. 首位代表文件类型(-普通文件,d这是个目录,l软链接,b和c都是设备文件,b是块设备如磁盘,c是字符设备如鼠标和键盘),接下来三位
  rwx是用户权限,接着三位r-x是用户组权限,最后玩味rw-是其他用户的权限.  无论是用户还是用户组还是其他用户,权限都有rwx读写执行,除了第一位的-代表文件类型,后续的-都代表是否拥有该权限. 比如在这个例子中,用户组的权限是r-x.说明该用户组对该文件有读和执行的权利但是没有写的权利. 在linux中一个文件是否可执行是根据其权限来判定的而不是其扩展名.
* mv命令用于给文件改名字,因为改名字相当于是把文件移动到一个新的名字上,所以是mv.    
* chown [-R] username:group file  更改file的用户名和用户组.只有username的时候就是更改用户,当前这个例子是用户和用户组都改.  -R是可选参数,表示递归.如果file是个文件夹则文件夹下所有的文件和文件夹都会被更改. 
* chmod 用于修改文件权限.  linux的文件权限可以用文字表示也可以用数字表示, r=4,w=2,x=1,-=0,x就是7,r-x就是5,rw-就是6,那么合起来就是756. 就是说这个文件的权限就是756.   chmod 700 xxx 就是把xxx这个文件的权限改成700,也就是rwx------
* xxx.tar.gz  xxx.tar.bz2   xxx.tar.xz  后缀代表压缩算法不同,压缩率逐渐增高,压缩时间相反.  tar -vx -f file 解压文件 tar -zcvf file.tar.gz FILE
  压缩文件  最后的FILE代表压缩后的文件放在哪个目录  cvf前面的字母可以是z,j,J分别代表三种压缩算法. 相应的压缩时文件的后缀也要改成gz,bz2,xz
